(this["webpackJsonpto-do-react"]=this["webpackJsonpto-do-react"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(0),a=n.n(s),i=n(7),o=n.n(i),r=(n(13),n(14),n(3)),l=n(5),u=n(2),j=n(4),d={open:{scale:1,opacity:1},closed:{opacity:0,originX:.8,originY:0,scale:0}},b=function(e){return Object(c.jsx)(u.c.div,{layout:!0,transition:{fade:"easeIn"},variants:d,initial:"closed",animate:"open",exit:"closed",children:e.children},"form")};function O(e){var t=e.addGroup,n=e.exitForm,a=Object(s.useState)(""),i=Object(r.a)(a,2),o=i[0],l=i[1];return Object(c.jsx)(b,{children:Object(c.jsxs)("form",{onSubmit:function(){t(o),n()},children:[Object(c.jsxs)("label",{children:["Title:",Object(c.jsx)("input",{type:"text",onChange:function(e){return l(e.target.value)},value:o})]}),Object(c.jsx)("input",{type:"submit",value:"Submit"})]})})}function m(e){var t=e.action,n=e.task,a=e.exitForm,i=Object(s.useState)({title:null===n||void 0===n?void 0:n.title,note:null===n||void 0===n?void 0:n.note}),o=Object(r.a)(i,2),l=o[0],u=o[1];return Object(s.useEffect)((function(){u({title:null===n||void 0===n?void 0:n.title,note:null===n||void 0===n?void 0:n.note})}),[n]),Object(c.jsx)(b,{children:Object(c.jsxs)("form",{onSubmit:function(){t(l),a()},className:"taskForm",children:[Object(c.jsxs)("label",{children:["Title:",Object(c.jsx)("input",{type:"text",onChange:function(e){return u(Object(j.a)(Object(j.a)({},l),{},{title:e.target.value}))},value:l.title||""})]}),Object(c.jsxs)("label",{children:["Note:",Object(c.jsx)("textarea",{rows:3,onChange:function(e){return u(Object(j.a)(Object(j.a)({},l),{},{note:e.target.value}))},value:l.note||""})]}),Object(c.jsx)("input",{type:"submit",value:"Submit"})]})})}var p=function(e){var t=e.deleteFunc,n=e.deleteItem,s=e.closeCallback;return Object(c.jsxs)("div",{className:"confirmDelete",children:[Object(c.jsx)("p",{children:"Are you sure?"}),Object(c.jsx)("button",{onClick:function(){t(n),s()},children:"Yes"}),Object(c.jsx)("button",{onClick:function(){return s()},children:"No"})]})},h={closed:{opacity:0,translateY:40},open:{opacity:1,translateY:0}},x=function(e){var t=e.task,n=e.tasks,a=e.setTasks,i=e.setTaskForm,o=Object(s.useState)({show:!1,item:null}),l=Object(r.a)(o,2),j=l[0],d=l[1];return Object(c.jsxs)(u.c.li,{variants:h,children:[Object(c.jsxs)("div",{className:"task",children:[Object(c.jsx)("button",{className:"remove-btn",onClick:function(){return d({show:!0,item:t.title})},children:"x"}),Object(c.jsx)("p",{className:"title ".concat(t.completed?"crossed":""),onClick:function(){i({show:!0,action:"update",selected:t})},children:t.title}),Object(c.jsx)("button",{className:"complete-btn",onClick:function(){return function(e){a((function(t){t[e].completed=!n[e].completed}))}(t.title)},children:"\u2713"})]}),j.show&&j.item===t.title&&Object(c.jsx)(p,{deleteFunc:function(e){a((function(t){delete t[e]}))},deleteItem:j.item,closeCallback:function(){return d({show:!1})}})]})},f={open:{opacity:1,transition:{staggerChildren:.15,delayChildren:.1}},closed:{opacity:0,transition:{staggerChildren:.15,staggerDirection:-1,wait:"afterChildren"}}},v={open:{scale:1,opacity:1},closed:{opacity:0,originX:.8,originY:0,scale:0,transition:{delay:.3,wait:"afterChildren"}}};var k=function(e){var t=e.group,n=e.updateGroupTasks,a=Object(l.a)(t.tasks||{}),i=Object(r.a)(a,2),o=i[0],j=i[1],d=Object(s.useState)({show:!1,action:null,selected:null}),b=Object(r.a)(d,2),O=b[0],p=b[1];return Object(s.useEffect)((function(){n({group:t,tasks:o})}),[o,n,t]),Object(c.jsx)(u.c.div,{layout:!0,className:"tasksContainer",variants:v,initial:"closed",animate:"open",exit:"closed",children:Object(c.jsxs)("div",{className:"tasks",children:[Object(c.jsxs)(u.c.div,{className:"head-bar",layout:!0,children:[Object(c.jsx)("p",{style:{textDecoration:"underline"},children:"Tasks"}),Object(c.jsx)("button",{className:"new-btn",onClick:function(){p({show:!O.show,action:"new"})},children:O.show?"-":"+"})]}),Object(c.jsx)(u.a,{exitBeforeEnter:!0,children:O.show&&Object(c.jsx)(m,{action:"new"===O.action?function(e){j((function(t){t[e.title]=e}))}:function(e){j((function(t){delete t[O.selected.title],t[e.title]=e}))},task:O.selected,exitForm:function(){return p({show:!1})}})}),Object(c.jsx)(u.c.ul,{className:"tasksList",layout:!0,variants:f,initial:"closed",animate:"open",exit:"closed",children:Object.entries(o).map((function(e){var t=Object(r.a)(e,2);t[0];return t[1]})).sort((function(e,t){return e.completed===t.completed?0:e.completed?-1:1})).map((function(e,t){return Object(c.jsx)(x,{task:e,tasks:o,setTasks:j,setTaskForm:p},t)}))},"list")]})},"container")},g=function(e){var t=e.group,n=e.expand,a=e.setExpand,i=e.setGroups,o=Object(s.useState)({show:!1,item:null}),l=Object(r.a)(o,2),j=l[0],d=l[1];return Object(c.jsxs)(u.c.div,{className:"group",layout:!0,children:[Object(c.jsxs)(u.c.div,{className:"groupHeader",layout:!0,children:[Object(c.jsx)("button",{className:"remove-btn",onClick:function(){return d({show:!0,item:t.name})},children:"x"}),Object(c.jsxs)("p",{className:"title",children:[t.name," ",Object(c.jsx)("span",{className:"taskCount",children:"(".concat(Object.keys(t.tasks).length,")")})]})]}),Object(c.jsx)("div",{className:"taskBtn",children:n.selectedGroup===t.name?Object(c.jsx)(u.c.button,{className:"minimize",onClick:function(){return a({selectedGroup:null})},layout:!0,children:"-"}):Object(c.jsx)(u.c.button,{className:"expand",onClick:function(){return a({selectedGroup:t.name})},layout:!0,children:"+"})}),Object(c.jsx)(u.a,{children:n.selectedGroup===t.name&&Object(c.jsx)(k,{group:t,updateGroupTasks:function(e){var t=e.group,n=e.tasks;i((function(e){e[t.name].tasks=n}))}})}),j.show&&j.item===t.name&&Object(c.jsx)(p,{deleteFunc:function(e){i((function(t){delete t[e]}))},deleteItem:j.item,closeCallback:function(){return d({show:!1})}})]},t.name)};var y=function(){var e=Object(l.a)(JSON.parse(localStorage.getItem("Groups"))||{}),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(s.useState)({groupForm:!1,selectedGroup:null}),o=Object(r.a)(i,2),j=o[0],d=o[1],b=function(e){a((function(t){t[e]={name:e,tasks:{}}}))};return Object(s.useEffect)((function(){0===Object.keys(n).length&&b("General"),localStorage.setItem("Groups",JSON.stringify(n))})),Object(c.jsx)(u.b,{children:Object(c.jsxs)(u.c.div,{className:"groups",layout:!0,children:[Object(c.jsxs)(u.c.div,{className:"head-bar",layout:!0,children:[Object(c.jsx)("h2",{children:"Groups"}),Object(c.jsx)("button",{className:"new-btn",onClick:function(){return d({groupForm:!j.groupForm})},children:j.groupForm?"-":"+"})]}),Object(c.jsx)(u.a,{children:j.groupForm&&Object(c.jsx)(O,{addGroup:b,exitForm:function(){return d({groupForm:!1})}})}),Object.entries(n).map((function(e,t){var n=Object(r.a)(e,2),s=(n[0],n[1]);return Object(c.jsx)(g,{group:s,expand:j,setExpand:d,setGroups:a},t)}))]})})};var N=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)("header",{children:Object(c.jsx)("h1",{children:"To-Do"})}),Object(c.jsx)(y,{})]})};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(N,{})}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.1ec585ce.chunk.js.map